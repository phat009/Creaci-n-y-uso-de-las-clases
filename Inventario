class InventarioTienda:
    def __init__(self, nombre_tienda):
        self.nombre_tienda = nombre_tienda
        self.productos = []  

    def agregar_producto(self, nombre, precio, cantidad):
        if not nombre or not nombre.strip():
            print("Error: El nombre del producto no puede estar vacío.")
            return False
        
        nombre = nombre.strip()
        if precio <= 0:
            print("Error: El precio debe ser un valior positivo.")
            return False
        if cantidad <= 0:
            print("Error: La cantidad debe ser un valor positivo.")
            return False
        
        for producto in self.productos:
            if producto['nombre'].lower() == nombre.lower():
                print(f"Error: Ya existe un producto con el nombre '{nombre}'.")
                return False
        
        nuevo_producto = {'nombre': nombre, 'precio': precio, 'cantidad': cantidad}
        self.productos.append(nuevo_producto)
        print(f"Producto '{nombre}' agregado exitosamente al inventario.")
        return True

    def vender_producto(self, nombre, cantidad):
        if cantidad <= 0:
            print("Error: La cantidad  vender drebe ser un valor positivo.")
            return False
        
        for producto in self.productos:
            if producto['nombre'].lower() == nombre.lower():
                if producto['cantidad'] >= cantidad:
                    producto['cantidad'] -= cantidad
                    print(f"Venta exitosa: {cantidad} unidades de '{nombre}' vendidas. Stock restante: {producto['cantidad']}.")
                    return True
                else:
                    print(f"Error: No hay suficiente stock para '{nombre}'. Stock disponible: {producto['cantidad']}.")
                    return False
        
        print(f"Errir: No existe un producto con el nombre '{nombre}'.")
        return False

    def mostrar_inventario(self):
        if not self.productos:
            print("El inventario está vacío.")
            return
        
        print(f"\n--- Inventario de {self.nombre_tienda} ---")
        for producto in self.productos:
            print(f"Producto: {producto['nombre']}, Precio: ${producto['precio']:.2f}, Cantidad: {producto['cantidad']}")
        print("Fin del inventario\n")

    def producto_mas_caro(self):
        if not self.productos:
            print("No hay productos en el inventario.")
            return None
        
        mas_caro = max(self.productos, key=lambda p: p['precio'])
        print(f"\nProducto más caro: '{mas_caro['nombre']}' con precio ${mas_caro['precio']:.2f}")
        return mas_caro

def main():
   
    nombre_tienda = input("Ingrese el nombre de la tienda: ").strip()
    if not nombre_tienda:
        nombre_tienda = "Mi Tienda"
    inventario = InventarioTienda(nombre_tienda)
    print(f"Inventario de '{nombre_tienda}' creado.\n")

    while True:
        print("=== Menú del Inventario ===")
        print("1. Agregar producto")
        print("2. Vender producto")
        print("3. Ver inventario")
        print("4. Consultar producto más caro")
        print("5. Salir")
        opcion = input("Seleccione una opción (1-5): ").strip()

        if opcion == "1":
            nombre = input("Ingrese el nombre del producto: ").strip()
            try:
                precio = float(input("Ingrese el precio del producto: ").strip())
                cantidad = int(input("Ingrese la cantidad inicial: ").strip())
                inventario.agregar_producto(nombre, precio, cantidad)
            except ValueError:
                print("Error: Precio y cantidad deben ser números válidos.")

        elif opcion == "2":
            nombre = input("Ingrese el nombre del producto a vender: ").strip()
            try:
                cantidad = int(input("Ingrese la cantidad a vender: ").strip())
                inventario.vender_producto(nombre, cantidad)
            except ValueError:
                print("Error: La cantidad debe ser un número entero válido.")

        elif opcion == "3":
            inventario.mostrar_inventario()

        elif opcion == "4":
            inventario.producto_mas_caro()

        elif opcion == "5":
            print("¡Gracias por usar el sistema de inventario! Saliendo")
            break

        else:
            print("Opción inválida. Por favor, seleccione 1-5.\n")

        input("\nPresione Enter para continuar") 
        
